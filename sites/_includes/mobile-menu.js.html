{% raw %}<script>
(function(){
  const header = document.getElementById('siteHeader');
  if(!header) return;
  const toggle = header.querySelector('.menu-toggle');
  const nav = document.getElementById('primaryNav');
  function setExpanded(on){
    if(on){
      header.classList.add('menu-open');
      toggle && toggle.classList.add('menu-open');
      toggle && toggle.setAttribute('aria-expanded','true');
    }else{
      header.classList.remove('menu-open');
      toggle && toggle.classList.remove('menu-open');
      toggle && toggle.setAttribute('aria-expanded','false');
    }
  }
  toggle && toggle.addEventListener('click', () => setExpanded(!header.classList.contains('menu-open')));
  nav && nav.addEventListener('click', e => { if(e.target.tagName === 'A') setExpanded(false); });
})();
</script>{% endraw %}
