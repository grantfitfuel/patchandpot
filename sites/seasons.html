<!DOCTYPE html>
<html lang="en-GB">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Seasonal Planner — Patch & Pot</title>
  <meta name="description" content="What to sow, plant, and harvest by month, with regional data for Scotland, England, Wales, and Ireland.">

  <!-- Site styles -->
  <link rel="stylesheet" href="style.css">

  <!-- Page-specific styles -->
  <style>
    :root{
      --bg:#0b0f14; --ink:#ffffff; --ink-dim:#cfd3d8;
      --glass:#0f131a; --stroke:#1f2630; --accent:#4caf50;
      --maxw:1100px; --radius:14px;
    }
    html,body{background:var(--bg); color:var(--ink); margin:0; font:16px/1.45 Inter,system-ui,Arial,sans-serif}
    a{color:var(--ink); text-decoration:underline}
    .wrap{max-width:var(--maxw); margin:0 auto; padding:18px 20px}
    h1{margin:.2rem 0 .6rem; font-size:1.9rem}
    .lead{color:var(--ink-dim)}

    .section{background:var(--glass); border:1px solid var(--stroke); border-radius:var(--radius); padding:14px; margin:12px 0}
    .controls{display:flex; flex-wrap:wrap; gap:10px; align-items:center}
    select{background:var(--glass); color:var(--ink); border:1px solid var(--stroke); border-radius:10px; padding:8px 10px}
    button{background:var(--glass); color:var(--ink); border:1px solid var(--stroke); border-radius:999px; padding:8px 12px; cursor:pointer}
    button.primary{outline:2px solid var(--accent)}
    .muted{color:var(--ink-dim)}

    /* Months scroller */
    .scroller{overflow-x:auto; -webkit-overflow-scrolling:touch; padding-bottom:8px}
    .months{display:grid; gap:12px; grid-auto-flow:column; grid-auto-columns:minmax(240px, 1fr); padding-bottom:4px; min-width:1020px}
    .month{background:#0f141b; border:1px solid var(--stroke); border-radius:12px; padding:12px; min-height:220px}
    .month h3{margin:0 0 .5rem; font-size:1.1rem}
    .pill{display:inline-block; border:1px solid var(--stroke); border-radius:8px; padding:4px 8px; margin:3px 4px 0 0; font-size:.9rem}
    .pill.sow{border-color:#3fa7ff}
    .pill.plant{border-color:#ffc252}
    .pill.harvest{border-color:#6be46b}
    .empty{color:var(--ink-dim); font-style:italic}

    /* Debug */
    #debug{display:none; margin-top:10px; white-space:pre-wrap; font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; background:#11161f; border:1px solid #253041; border-radius:12px; padding:10px; color:#ffe08a}
    #debug.show{display:block}

    footer{margin:24px 0 12px; text-align:center; color:var(--ink-dim)}
    .pot-icon{display:block; width:46px; height:auto; margin:0 auto 8px}
    .footer-line{opacity:.6}
  </style>
</head>
<body>

  <!-- UNIVERSAL HEADER -->
  <header class="pp-site-header" role="banner">
    <div class="pp-header-bar">
      <a class="pp-brand" href="/index.html">
        <img class="pp-logo" src="/img/patchandpot-logo.png" alt="Patch &amp; Pot">
        <span class="pp-title">Patch &amp; Pot</span>
      </a>

      <button class="pp-burger" id="ppBurger" aria-label="Menu" aria-expanded="false" aria-controls="ppNav">
        <span></span><span></span><span></span>
      </button>

      <!-- Nav injects here -->
      <div id="site-nav"></div>
    </div>
  </header>
  <script src="/js/nav-loader.js?v=2" defer></script>

  <div class="wrap">
    <h1>Seasonal Planner</h1>
    <p class="lead">Choose your region and crop block(s). All text is white on the dark background; the calendar scrolls horizontally so December never gets cut off.</p>

    <div class="section">
      <div class="controls">
        <label for="regionSel" class="muted">Region</label>
        <select id="regionSel" aria-label="Region">
          <option value="scotland">Scotland</option>
          <option value="england">England</option>
          <option value="wales">Wales</option>
          <option value="ireland">Ireland</option>
        </select>

        <label for="blockSel" class="muted">Block</label>
        <select id="blockSel" aria-label="Block">
          <option>alliums</option>
          <option>fruit</option>
          <option>herbs</option>
          <option>leafy</option>
          <option>legumes</option>
          <option>other</option>
          <option>roots</option>
          <option>softfruit</option>
        </select>

        <button id="loadBtn" class="primary" type="button">Generate calendar</button>
        <span id="status" class="muted" aria-live="polite"></span>
      </div>
    </div>

    <div class="section">
      <div class="legend">
        <span class="pill sow">Sow</span>
        <span class="pill plant">Plant</span>
        <span class="pill harvest">Harvest</span>
        <span class="muted">— labels appear under each month.</span>
      </div>
    </div>

    <div class="section scroller">
      <div id="months" class="months" role="list"></div>
    </div>

    <div id="debug" aria-live="polite"></div>

    <footer>
      <img src="/img/patchandpot-pot.png" alt="" class="pot-icon">
      <div class="footer-line">© Patch &amp; Pot — Grow Anywhere</div>
    </footer>
  </div>

  <!-- Wait for injected #ppNav, then wire burger -->
  <script>
    (function wireMenu(){
      const root = document.querySelector('.pp-site-header');
      const btn  = document.getElementById('ppBurger');
      const nav  = document.getElementById('ppNav'); // created by /js/nav-loader.js
      if(!root || !btn || !nav){ setTimeout(wireMenu, 60); return; }

      btn.addEventListener('click', ()=>{
        const open = root.classList.toggle('pp-open');
        btn.setAttribute('aria-expanded', open ? 'true' : 'false');
      });
      nav.addEventListener('click', e=>{
        if(e.target.closest('a')){
          root.classList.remove('pp-open');
          btn.setAttribute('aria-expanded','false');
        }
      });
      window.addEventListener('resize', ()=>{
        if(window.innerWidth > 900){
          root.classList.remove('pp-open');
          btn.setAttribute('aria-expanded','false');
        }
      });
    })();
  </script>

  <!-- Seasonal JS (kept as you referenced it) -->
  <script src="assets/js/seasonal.js?v=lock-clean" defer></script>
</body>
</html>
